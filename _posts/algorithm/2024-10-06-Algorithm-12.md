---
layout: post
title: 백준 10815 문제풀이
subtitle: ""
categories: cs
tags: Algorithm
comments: false
---

## 문제 링크

<https://www.acmicpc.net/problem/10815>

## 문제 설명

숫자 카드는 정수 하나가 적혀져 있는 카드이다. 
상근이는 숫자 카드 N개를 가지고 있다. 정수 M개가 주어졌을 때, 이 수가 적혀있는 숫자 카드를 상근이가 가지고 있는지 아닌지를 구하는 프로그램을 작성하시오.

## 문제 분석

문제를 보면 내가 가지고 있는 카드, 그리고 주어진 카드를 인덱스 하나하나 비교해가면서 푸는 방법을 생각했다.
하지만 입력값을 고려하지 않고 문제를 풀어서 처음에는 시간 초과가 발생했었는데 그 이유를 한 번 보자

## 코드

```cpp
#include <bits/stdc++.h>
using namespace std;

int n, m;
vector<int> v;
vector<int> ret;

int main() {
    cin.tie(NULL);
    cout.tie(NULL);
    cin >> n;
    v.resize(n);
    for (int i = 0; i < v.size(); i++) {
        cin >> v[i];
    }
    cin >> m;
    ret.resize(m);
    for (int i = 0; i < ret.size(); i++) {
        cin >> ret[i]; 
    }

    for (int i = 0; i < ret.size(); i++) {
        if (find(v.begin(), v.end(), ret[i]) != v.end()) {
            cout << "1" << '\n'; 
        } else {
            cout << "0" << '\n'; 
        }
    }
    return 0;
}
```

문제의 시간 초과 코드이다. 물론 이 코드에서는 이중 for문이 없어서 왜 시간 초과가 발생했었는지 알지 못했다. 
하지만 find함수에서 시간 초과가 발생하게 되는데 그 이유는 ret의 모든 원소들을 순회하면서 v벡터 전체를 순회하기 때문이다.
전체적으로 O(N * M)의 시간 복잡도를 가지게 되고, 10만 * 10만 약 10억 번의 연산이 발생하게 된다.
그럼 다음으로는 어떻게 해결했을까?

```cpp
#include <bits/stdc++.h>
using namespace std;

int n, m;
vector<int> v;
vector<int> ret;

int main() {
    cin.tie(NULL);
    cout.tie(NULL);
    cin >> n;
    v.resize(n);
    unordered_set<int> cards; 

    for (int i = 0; i < v.size(); i++) {
        cin >> v[i];
        cards.insert(v[i]); 
    }
    
    cin >> m;
    ret.resize(m);
    for (int i = 0; i < ret.size(); i++) {
        cin >> ret[i]; 
    }

    for (int i = 0; i < ret.size(); i++) {
        if (cards.count(ret[i])) {
            cout << "1" << '\n'; 
        } else {
            cout << "0" << '\n'; 
        }
    }
    return 0;
}

```

이 문제를 해결하기 위해, unordered_set을 사용하여 카드의 존재 여부를 더 효율적으로 확인할 수 있다. 
unordered_set은 평균적으로 O(1)의 시간 복잡도로 요소의 존재 여부를 확인할 수 있으므로, 전체 시간 복잡도는 O(N + M)으로 줄어든다.
그냥 기존에 코드에 set만 추가하여 count메서드를 통해 가지고 있는지 없는지 여부만 확인하게끔 수정했다.

<img width="1147" alt="image" src="https://github.com/user-attachments/assets/cf06475c-a11b-4684-9f8b-5bf078502372">

입력의 조건을 잘 확인하자.

## Reference

나의 뇌