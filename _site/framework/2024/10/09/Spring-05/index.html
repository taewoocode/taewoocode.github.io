<!DOCTYPE html>
<html lang="en"><!--
 __  __                __                                     __
/\ \/\ \              /\ \             __                    /\ \
\ \ \_\ \   __  __    \_\ \      __   /\_\      __       ___ \ \ \/'\
 \ \  _  \ /\ \/\ \   /'_` \   /'__`\ \/\ \   /'__`\    /'___\\ \ , <
  \ \ \ \ \\ \ \_\ \ /\ \L\ \ /\  __/  \ \ \ /\ \L\.\_ /\ \__/ \ \ \\`\
   \ \_\ \_\\/`____ \\ \___,_\\ \____\ _\ \ \\ \__/.\_\\ \____\ \ \_\ \_\
    \/_/\/_/ `/___/> \\/__,_ / \/____//\ \_\ \\/__/\/_/ \/____/  \/_/\/_/
                /\___/                \ \____/
                \/__/                  \/___/

Powered by Hydejack v6.4.0 (https://qwtel.com/hydejack/)
-->









<head>
  <!-- =============== -->
<!-- META            -->
<!-- =============== -->
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="format-detection" content="telephone=no" />
<meta http-equiv="x-ua-compatible" content="ie=edge" />
<meta
        name="naver-site-verification"
        content="22c5b4ef3bfda7fc6100671413989219de7a4ac8"
/>
<meta property="og:title" content="Simple Library App - Repository" />
<meta property="og:type" content="article" />

<!-- =============== -->
<!-- Google AdSense  -->
<!-- =============== -->
<script
        data-ad-client="ca-pub-8247516864622650"
        async
        src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"
></script>

 
<meta property="og:image" content="http://localhost:4000/assets/img/logo.png" />


<meta property="og:image:width" content="640" />
<meta property="og:image:height" content="360" />
 
<title>Simple Library App - Repository &middot; 일벌리는 개발자</title>
 
<meta
        name="description"
        content="BookRepository를 왜 인터페이스로 분리를 했을까?

"
/>
<meta
        property="og:description"
        content="BookRepository를 왜 인터페이스로 분리를 했을까?

"
/>



<!-- =============== -->
<!-- LINKS           -->
<!-- =============== -->
<link rel="canonical" href="http://localhost:4000/framework/2024/10/09/Spring-05/" />
<meta property="og:url" content="http://localhost:4000/framework/2024/10/09/Spring-05/" />

<link
        rel="alternate"
        type="application/atom+xml"
        title="일벌리는 개발자 Feed"
        href="http://localhost:4000/feed.xml"
/>


<link rel="prev" href="http://localhost:4000/framework/2024/10/09/Spring-04/" />
 

<link
        rel="apple-touch-icon"
        href="http://localhost:4000/apple-touch-icon.png"
/>
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?" />
<!-- Place favicon.ico in the root directory -->

<!-- =============== -->
<!-- SCRIPTS         -->
<!-- =============== -->
<script>
  !function(n,e){function t(n,e){n.onload=function(){this.onerror=this.onload=null,e(null,n)},n.onerror=function(){this.onerror=this.onload=null,e(new Error("Failed to load "+this.src),n)}}function o(n,e){n.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,e(null,n))}}n._loaded=!1,n.loadJSDeferred=function(a,d){function r(){n._loaded=!0;var r=e.createElement("script");r.src=a,d&&(("onload"in r?t:o)(r,d),r.onload||t(r,d));var l=e.getElementsByTagName("script")[0];l.parentNode.insertBefore(r,l)}n._loaded?r():n.addEventListener?n.addEventListener("load",r,!1):n.attachEvent?n.attachEvent("onload",r):n.onload=r}}(window,document);

  !function(e){"use strict";var n=function(n,t,o){function i(e){if(a.body)return e();setTimeout(function(){i(e)})}function r(){l.addEventListener&&l.removeEventListener("load",r),l.media=o||"all"}var d,a=e.document,l=a.createElement("link");if(t)d=t;else{var f=(a.body||a.getElementsByTagName("head")[0]).childNodes;d=f[f.length-1]}var s=a.styleSheets;l.rel="stylesheet",l.href=n,l.media="only x",i(function(){d.parentNode.insertBefore(l,t?d:d.nextSibling)});var u=function(e){for(var n=l.href,t=s.length;t--;)if(s[t].href===n)return e();setTimeout(function(){u(e)})};return l.addEventListener&&l.addEventListener("load",r),l.onloadcssdefined=u,u(r),l};"undefined"!=typeof exports?exports.loadCSS=n:e.loadCSS=n}("undefined"!=typeof global?global:this);

  !function(t){if(t.loadCSS){var e=loadCSS.relpreload={};if(e.support=function(){try{return t.document.createElement("link").relList.supports("preload")}catch(t){return!1}},e.poly=function(){for(var e=t.document.getElementsByTagName("link"),r=0;r<e.length;r++){var n=e[r];"preload"===n.rel&&"style"===n.getAttribute("as")&&(t.loadCSS(n.href,n,n.getAttribute("media")),n.rel=null)}},!e.support()){e.poly();var r=t.setInterval(e.poly,300);t.addEventListener&&t.addEventListener("load",function(){e.poly(),t.clearInterval(r)}),t.attachEvent&&t.attachEvent("onload",function(){t.clearInterval(r)})}}}(this);

  window.disablePushState = false;
  window.disableDrawer = false;
</script>

<!--[if lt IE 9]>
<script src="https://unpkg.com/html5shiv/dist/html5shiv.min.js"></script>
<![endif]-->

<!-- =============== -->
<!-- STYLES          -->
<!-- =============== -->
<!--[if gt IE 8]><!---->
<style>
  
  article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}*{box-sizing:border-box}html,body{margin:0;padding:0}html{font-size:16px;line-height:1.75}body{color:#333;background-color:#fff;overflow-y:scroll}a{text-decoration:none}.lead{margin-left:-1rem;margin-right:-1rem}img,.img{display:block;max-width:100%;margin-bottom:1rem;border:none}img.lead,.img.lead{max-width:calc(100% + 2rem);width:calc(100% + 2rem)}h1,h2,h3,h4,h5,h6,.h1,.h2,.h3,.h4,.h5,.h6,.heading{font-weight:bold;text-rendering:optimizeLegibility}h1,h2,h3,h4,h5,h6,.h1,.h2,.h3,.h4,.h5,.h6{margin:1.6rem 0 1rem;line-height:1.6}h1,.h1{font-size:2rem;line-height:1.25}h2,.h2{font-size:1.5rem}h3,.h3{font-size:1.17em}p{margin-top:0;margin-bottom:1rem}p.lead{font-size:1.25rem;font-weight:300;padding:0 1rem}ul,ol,dl{margin-top:0;margin-bottom:1rem}ul,ol{padding-left:1.25rem}hr{position:relative;margin:1.5rem 0;border:0;border-top:1px solid #eee}.hr{padding-bottom:.5rem;border-bottom:1px solid #eee;margin-bottom:1.5rem}h4,h5,h6,.h4,.h5,.h6{margin-bottom:0.5rem;font-size:1rem}table{margin-bottom:1rem;width:100%;width:calc(100% + 2rem);margin-left:-1rem;border:1px solid #e5e5e5;border-collapse:collapse;border-spacing:0}td,th{padding:.25rem .5rem;border:1px solid #e5e5e5}td:first-child,th:first-child{padding-left:1rem}td:last-child,th:last-child{padding-right:1rem}thead+tbody,tbody+tbody,tfoot{border-top:3px double #e5e5e5}tbody tr:nth-child(odd) td,tbody tr:nth-child(odd) th{background-color:#f9f9f9}footer{margin-bottom:2rem}.page,.post{margin-bottom:3em}.page li+li,.post li+li{margin-top:.25rem}.page>header,.post>header{margin-bottom:2rem}.page-title,.post-title{margin-top:0}.post-date{display:block;margin-top:-0.5rem;margin-bottom:1rem;color:#9a9a9a}.related-posts{padding-left:0;list-style:none}.related-posts>li,.related-posts>li+li{margin-top:1rem}.related-posts>li>small,.related-posts>li+li>small{font-size:75%;color:#9a9a9a}.message{margin-bottom:1rem;padding:1rem;color:#787878;background-color:#f9f9f9;margin-left:-1rem;margin-right:-1rem}body,main{position:relative;overflow-x:hidden}@media screen{body::before{content:'';background:#e5e5e5;position:absolute;left:0;top:0;bottom:0}}@media screen and (min-width: 40em){html{font-size:17px}}@media screen and (min-width: 54em){html{font-size:16px}}@media screen and (min-width: 88em){html{font-size:17px}}@media screen and (min-width: 125em){html{font-size:18px}}.sr-only{display:none}.clearfix,.sidebar-social::after,.clearafter::after{content:"";display:table;clear:both}a,.a{position:relative;padding-bottom:.15rem;border-style:hidden}.img{overflow:hidden;background-color:#f9f9f9}.img>img{margin:0;width:100%;height:100%}.sixteen-nine{position:relative}.sixteen-nine::before{display:block;content:"";width:100%;padding-top:56.25%}.sixteen-nine>*{position:absolute;top:0;left:0;right:0;bottom:0}h1+hr,h2+hr,h3+hr,h4+hr,h5+hr,h6+hr{margin-top:0}.fade-in{animation-duration:500ms;animation-name:fade-in;animation-fill-mode:forwards}@keyframes fade-in{from{transform:translateY(-2rem);opacity:0}50%{transform:translateY(-2rem);opacity:0}to{transform:translateY(0);opacity:1}}.mb6{margin-bottom:10rem}.sidebar{color:rgba(255,255,255,0.75);text-align:left}.sidebar::before{content:"";position:absolute;z-index:2;top:0;left:0;bottom:0;right:0;background:linear-gradient(to bottom, rgba(32,32,32,0) 0%, rgba(32,32,32,0.5) 100%)}.sidebar a{color:#fff;border-bottom-color:rgba(255,255,255,0.2)}.right-side{width:100%;margin-left:auto;margin-right:auto}.right-side .ad-first{text-align:center}@media screen{.right-side{max-width:38rem;min-height:100vh}.right-side .ad-second{display:none}}@media screen and (min-width: 54em){.right-side{margin-left:20rem;margin-right:1rem;padding:4rem 1rem 12rem}.right-side .ad-second{text-align:center;display:block}}@media screen and (min-width: 72em){.right-side{margin-left:22rem;max-width:42rem}}@media screen and (min-width: 88em){.right-side{width:162px;margin-left:0rem;margin-right:0rem;padding:0rem;margin-top:10rem;display:block;float:left}}@media screen and (min-width: 96em){.right-side{width:300px;margin-right:0rem}}#_yDrawer{position:relative}@media screen{#_yDrawer{min-height:640px;min-height:100vh}}@media screen and (min-width: 54em){#_yDrawer{width:18rem;margin-left:0}}.sidebar-bg{position:absolute;height:100%;overflow:hidden;top:0;right:0;bottom:0;left:0;background:#202020 center / cover}.sidebar-box{display:flex;justify-content:center}.sidebar-sticky{position:relative;z-index:3}@media screen{.sidebar-sticky{-ms-overflow-style:none;overflow:-moz-scrollbars-none;height:100%;overflow:auto;position:absolute;padding:3rem 0rem;right:2.5rem;left:2.5rem}}.sidebar-sticky::-webkit-scrollbar{display:none}.sidebar-about>h1{color:#fff;font-size:2rem}.sidebar-nav>ul{list-style:none;padding-left:0;margin-bottom:.5rem}a.sidebar-nav-item{width:100%;font-weight:normal;display:block;line-height:1.75;padding:.25rem 0;border-bottom:1px solid rgba(255,255,255,0.2)}a.sidebar-nav-subitem{font-weight:normal;display:block;line-height:1.75;padding:.25rem 0;border-bottom:1px solid rgba(255,255,255,0.2)}@media screen{.y-drawer-scrim{z-index:2}.y-drawer-content{width:18rem;left:-18rem;z-index:3}}.sidebar-social{margin-bottom:.5rem}.sidebar-social>ul{list-style:none;padding-left:0;margin:0 -.25rem}.sidebar-social>ul>li{float:left}.sidebar-social>ul>li>a{display:inline-block;text-align:center;font-size:1.6rem;line-height:3rem;width:3.1249rem;height:4rem;padding:.5rem 0}.sidebar-social>ul li+li{margin-top:0}.fixed-top{position:fixed;top:0;left:0;width:100%;z-index:1}.navbar>.content{padding-top:0;padding-bottom:0;min-height:0;height:0}.menu{display:inline-block;padding:1.75rem 1.5rem;border-bottom:none;margin-left:-1.5rem;color:#9a9a9a !important}.menu::after{content:"\2630"}@media screen and (min-width: 54em){.menu{padding:1.25rem 1.5rem;position:absolute;left:-9999px}.menu:focus{position:static}}.animation-main{pointer-events:none}.loading{display:none}@media print{.menu{display:none}}.animation-main{opacity:0;will-change:opacity}.loading{position:absolute;top:0;right:0;padding:5.25rem 4.5rem;transform-origin:top right;transform:scale(0.33)}.content{position:relative;margin-left:auto;margin-right:auto;padding:5rem 1rem 12rem}@media screen{.content{min-height:100vh}}@media screen and (min-width: 54em){.content{padding:4rem 1rem 12rem;margin-left:19rem;margin-right:3rem}}@media screen and (min-width: 72em){.content{max-width:42rem;margin-left:21rem}}@media screen and (min-width: 88em){.content{float:left;width:100%;margin-left:22rem;margin-right:5rem}}@media screen and (min-width: 96em){.content{max-width:44rem}}@media screen and (min-width: 102em){.content{margin-left:25rem;margin-right:8rem}}.me{width:6.5rem;height:6.5rem;align-self:center;margin-right:20px;border-radius:100%;position:relative}@media screen and (min-width: 40em){.me{width:7rem;height:7rem}}@media screen and (min-width: 54em){.me{width:6.5rem;height:6.5rem}}@media screen and (min-width: 72em){.me{width:7rem;height:7rem}}main>footer{width:100%;position:absolute;bottom:0;left:0;right:0;padding:0 1rem;color:#9a9a9a;font-size:smaller;text-align:center}main>footer>p{margin-bottom:0}html{font-family:'Sans-serif'}h1,h2,h3,h4,h5,h6,.h1,.h2,.h3,.h4,.h5,.h6,.heading{font-family:'Sans-serif'}

</style>


<link
        rel="preload"
        href="http://localhost:4000/assets/css/hydejack.css?v=6.4.0"
        as="style"
        onload="this.rel='stylesheet'"
/>

<style id="_pageStyle">

.content a{color:#4f86aa;border-color:rgba(79,134,170,0.2)}.content a:hover{border-color:#4f86aa}:focus{outline-color:#4f86aa}::selection{color:#fff;background:#4f86aa}::-moz-selection{color:#fff;background:#4f86aa}

</style>


<noscript>
  <link rel="stylesheet" href="http://localhost:4000/assets/css/hydejack.css?v=6.4.0" />
    
  
  <link
          rel="stylesheet"
          href="https://fonts.googleapis.com/css?family=Lato"
  />
  <style>
    html { font-family: 'Lato', 'Sans-serif' }
    h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6, .heading { font-family: 'Lato', 'Sans-serif' }
  </style>
   
  <link rel="stylesheet" href="http://localhost:4000/assets/icomoon/style.css" />
</noscript>
<!--<![endif]-->
</head>

<body>
  <!-- =============== -->
<!-- MENU            -->
<!-- =============== -->
<div class="navbar fixed-top">
  <div class="content">
    <span class="sr-only">Jump to:</span>
    <a id="_menu" class="menu no-hover" href="#_title">
      <span class="sr-only">Menu</span>
    </a>
  </div>
</div>

<!-- =============== -->
<!-- CONTENT         -->
<!-- =============== -->
<div id="_yPushState">
  <div class="fade-in">
    <main
            id="_main"
            class="content"
            role="main"
            data-color="#4f86aa"
            data-image="/assets/img/dp.jpeg"
    >
      

<article id="post-framework/2024/10/09/Spring-05" class="post" role="article">
  <header>
    <h1 class="post-title">
      
      Simple Library App - Repository
      
    </h1>

    <p class="post-date heading">
      <time datetime="2024-10-09T00:00:00+09:00">09 Oct 2024</time>
      









in <a href="/category/framework/" data-flip="title">Framework</a>

      









on <a href="/tag/framework-spring/" data-flip="title">Spring</a>

    </p>

    
  <div class="hr" style="padding-bottom:0"></div>


  </header>
  


  
  <div class="markdown-body">

    <!--  -->
    <style>
      .myAd1190 {
        width: 48%;
        height: 280px;
      }

      .myAd1290 {
        width: 48%;
        height: 280px;
      }

      @media(max-width: 800px) {
        .myAd1190 {
          display: none;
        }

        .myAd1290 {
          width: 98%;
        }
      }

      .row {
        display: flex;
        justify-content: space-between;
        align-items: center;
        height: 300px;
      }

      .row-center {
        display: flex;
        justify-content: center;
        height: 258px;
      }
    </style>

    <!--<br />-->
    <h2 id="bookrepository를-왜-인터페이스로-분리를-했을까">BookRepository를 왜 인터페이스로 분리를 했을까?</h2>

<p><img width="699" alt="image" src="https://github.com/user-attachments/assets/bcbb0ec7-ffef-473b-9aad-2e9f4a165d83" /></p>

<p><code class="language-plaintext highlighter-rouge">BookRepository</code>를 인터페이스로 분리하는 이유는 다양한 구현체를 통해 다양한 전략 패턴을 활용하기 위함이다. 
이렇게 분리함으로써 코드의 유연성과 확장성을 높일 수 있다. 
예를 들어, 메모리 기반 저장소, 데이터베이스 기반 저장소, 파일 기반 저장소 등의 서로 다른 구현체를 만들어 필요에 따라 선택하여 사용할 수 있다. 
이로 인해 특정 구현체에 종속되지 않고, 변경이 용이할 수 있다.
이와 같이 인터페이스를 사용하면 새로운 기능을 추가하거나 기존 기능을 수정할 때도 기존 코드를 건드리지 않고도 다양한 방식으로 구현할 수 있다.
또한 <code class="language-plaintext highlighter-rouge">BookService</code>는 <code class="language-plaintext highlighter-rouge">BookRepository</code>에 의존하고 있다. 
이는 <code class="language-plaintext highlighter-rouge">BookService</code>가 데이터 저장 및 조회를 위해 <code class="language-plaintext highlighter-rouge">BookRepository</code>를 사용한다는 것을 의미한다. 
<code class="language-plaintext highlighter-rouge">BookService</code>는 책을 추가, 수정, 삭제, 조회하는 비즈니스 로직을 구현하고, 이 과정에서 실제 데이터 작업은 <code class="language-plaintext highlighter-rouge">BookRepository</code>가 담당한다.
생성자 주입을 통해 런타임에 다양한 <code class="language-plaintext highlighter-rouge">Repository</code>의 구현체를 주입받는다. 
<code class="language-plaintext highlighter-rouge">BookService</code>의 생성자에서 <code class="language-plaintext highlighter-rouge">BookRepository</code>를 인터페이스를 매개변수로 받아 주입받는 방식이다. 
런타임시 <code class="language-plaintext highlighter-rouge">BookService</code>의 생성자에서 구현체를 주입받게 된다.
런타임에 다양한 전략을 주입받는 것은 Spring의 의존성 주입 기능을 활용하는 것이다. 
애플리케이션 실행 시점에 어떤 <code class="language-plaintext highlighter-rouge">BookRepository</code> 구현체가 <code class="language-plaintext highlighter-rouge">BookService</code>에 주입될지를 결정하게 된다. 
예를 들어, BookRepositoryV0, BookRepositoryV1, BookRepositoryV2와 같은 다양한 구현체가 있을 수 있다.
<code class="language-plaintext highlighter-rouge">BookService</code>는 주입받은 <code class="language-plaintext highlighter-rouge">BookRepository</code>를 사용하여 비즈니스 로직을 수행한다. 
책을 추가하는 기능은 <code class="language-plaintext highlighter-rouge">bookRepository</code>의 <code class="language-plaintext highlighter-rouge">save</code> 메서드를 호출하여 책을 저장하는 방식으로 구현될 수 있다. 
이때, 실제 데이터 저장 방식은 주입된 <code class="language-plaintext highlighter-rouge">BookRepository</code>의 구현체에 따라 달라진다.
<code class="language-plaintext highlighter-rouge">BookService</code>는 구체적인 <code class="language-plaintext highlighter-rouge">BookRepository</code>의 구현에 대해 알 필요가 없고, 오로지 <code class="language-plaintext highlighter-rouge">BookRepository</code> 인터페이스만 알고 있으면 된다. 
이는 다양한 데이터 저장 방식을 손쉽게 변경하거나 추가할 수 있는 기반이 된다.</p>

<h2 id="다양한-정책기반의-구현체">다양한 정책기반의 구현체</h2>

<p>위에 내용을 조금 간추려 보자면 <code class="language-plaintext highlighter-rouge">BookRepository</code>와 같은 인터페이스를 사용할 때 다양한 정책을 구현할 수 있다는 점이다. 
예를 들어, 책 관리 시스템에서 <code class="language-plaintext highlighter-rouge">BookRepository</code> 인터페이스를 구현하는 여러 정책을 생각해볼 수 있다.
BookRepository와 같은 인터페이스를 활용하면 다양한 정책을 구현할 수 있는 유연성을 제공한다. 
예를 들어, 책 관리 시스템에서 BookRepository 인터페이스를 구현하는 여러 정책을 고려할 수 있다. 
각 비즈니스 요구 사항에 맞춰 서로 다른 구현체를 만들어 제공할 수 있으며, InMemoryBookRepository, FileBookRepository, DatabaseBookRepository 등 다양한 구현체를 통해 서로 다른 저장소를 사용할 수 있다.</p>

<h2 id="다양한-정책기반의-구현체를-어떻게-넣어줄-것인데">다양한 정책기반의 구현체를 어떻게 넣어줄 것인데?</h2>

<p><img width="474" alt="image" src="https://github.com/user-attachments/assets/b05b7469-559b-4f0b-aa23-5c163bc6a6e4" /></p>

<p><code class="language-plaintext highlighter-rouge">AppConfig</code>는 Spring 애플리케이션에서 의존성 주입을 관리하는 중요한 구성 요소이다. 
이 클래스는 Spring 컨테이너에 빈을 등록하고 특정 구현체를 주입하는 역할을 한다.
Spring의 의존성 주입은 런타임 시점에 어떤 구현체가 사용될지를 결정한다. 
즉, 주입되는 시점에 실제로 어떤 구현체가 사용될지를 선택하게 된다. 
이는 코드에서 인터페이스에만 의존하게 하고, 런타임에 Spring이 관리하는 빈을 기반으로 필요한 의존성을 주입하는 방식을 의미한다.
컴파일 시점에서는 인터페이스만 확인되므로 어떤 구현체가 사용될지를 알 수 없다. 
예를 들어, 여러 개의 <code class="language-plaintext highlighter-rouge">BookService</code> 인터페이스 구현체가 있을 때, 컴파일 시점에는 이들 중 어떤 것이 선택될지를 알 수 없다. 
이때는 인터페이스에만 의존하게 되어 유연성을 높인다.
Spring에서는 <code class="language-plaintext highlighter-rouge">@Autowired</code> 어노테이션을 사용하여 해당 인터페이스의 구현체를 자동으로 주입받을 수 있다. 
예를 들어, <code class="language-plaintext highlighter-rouge">BookRepository</code> 인터페이스의 여러 구현체 (<code class="language-plaintext highlighter-rouge">BookRepositoryV0</code>, <code class="language-plaintext highlighter-rouge">BookRepositoryV1</code>, <code class="language-plaintext highlighter-rouge">BookRepositoryV2</code>)가 있을 경우, 
Spring은 컨테이너에 등록된 빈 중에서 적절한 구현체를 찾아 <code class="language-plaintext highlighter-rouge">bookRepository</code>에 주입한다.
결론적으로, <code class="language-plaintext highlighter-rouge">AppConfig</code>는 Spring에서 의존성을 관리하는 핵심 요소이다. 
런타임에 어떤 구현체가 주입될지를 결정하는 데 필수적이다. 
<code class="language-plaintext highlighter-rouge">@Autowired</code>를 통해 필요한 의존성을 자동으로 주입받아, 컴파일 시점에서는 인터페이스에만 의존하고 런타임 시점에 구현체가 결정되는 방식이다.</p>

<h2 id="repository-save-logic">Repository Save Logic</h2>

<p><img width="692" alt="image" src="https://github.com/user-attachments/assets/9e5fc6e5-1331-4c1f-a54b-f8075bb6bf8f" />
<img width="674" alt="image" src="https://github.com/user-attachments/assets/e8014f05-05b2-453c-9ee1-91883b764341" /></p>

<p>새로운 책을 추가하려는 경우, 메서드는 <code class="language-plaintext highlighter-rouge">book.getId() == null</code> 조건을 검사한다. 만약 책의 ID가 <code class="language-plaintext highlighter-rouge">null</code>이라면, 이는 새로운 책을 추가한다. 
이때 <code class="language-plaintext highlighter-rouge">makeBook(book)</code> 메서드를 호출하여 새로운 책 객체를 생성한다. 
이 메서드는 책 객체의 ID를 설정하고 필요한 다른 속성을 초기화하는 역할을 수행한다. 
이후, 생성된 새 책 객체는 <code class="language-plaintext highlighter-rouge">bookStore</code>라는 저장소에 추가된다. 
새로 추가된 책 객체를 반환하여 호출자에게 추가된 책의 정보를 제공한다.
반면, 책의 ID가 <code class="language-plaintext highlighter-rouge">null</code>이 아닐 경우, 기존 책을 수정하거나 업데이트를 할 수 있다. 
이 경우 메서드는 먼저 주어진 ID가 <code class="language-plaintext highlighter-rouge">bookStore</code>에 존재하는지를 확인한다. 
<code class="language-plaintext highlighter-rouge">bookStore.containsKey(book.getId())</code> 조건을 통해 ID의 유효성을 검증하며, 
만약 존재하지 않는다면 <code class="language-plaintext highlighter-rouge">IllegalArgumentException</code>을 발생시킨다. 
이 예외는 주어진 ID가 유효하지 않음을 나타내며, 호출자는 잘못된 ID로 인해 발생할 수 있는 오류를 방지할 수 있다. 
만약 ID가 유효하다면, <code class="language-plaintext highlighter-rouge">bookStore</code>에 해당 ID로 책을 업데이트한다.
예외처리에 있어서  <code class="language-plaintext highlighter-rouge">IllegalArgumentException</code>은 “잘못된 인수 예외”라는 뜻이다. 
이 예외는 메서드에 전달된 인수가 잘못되었거나 유효하지 않을 때 발생한다. 
즉, 메서드가 요구하는 조건을 만족하지 않는 인수(예: 범위를 초과하거나 null 값 등)가 전달되었을 때 발생하는 예외를 말한다.
예를 들어, 어떤 메서드가 음수를 허용하지 않는데 음수가 전달되거나 
위 코드와 같이 호출자가 잘못된 ID를 호출하여 ID값이 유효하지가 않다면 
<code class="language-plaintext highlighter-rouge">IllegalArgumentException</code>을 던져서 “잘못된 인수”임을 알리고 적절한 오류 처리를 할 수 있다.</p>

<h2 id="reference">Reference</h2>

<p>나의 뇌 + 공식 문서가 참 잘 나와있다.</p>

<p><a href="https://docs.spring.io/spring-framework/reference/core/beans/classpath-scanning.html#beans-scanning-filters">https://docs.spring.io/spring-framework/reference/core/beans/classpath-scanning.html#beans-scanning-filters</a></p>

    <br />
    <br />
  </div>
  

</article>

<!--<hr class="dingbat" />-->
<!--
<div class="share">
  <h2>Share this post</h2>
  <div class="share-body">
    <a href="http://twitter.com/share?text=Simple Library App - Repository&amp;url=http://localhost:4000/framework/2024/10/09/Spring-05/"
      onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
      <span class="icon-twitter">
      </span>
    </a>
    <a href="https://www.facebook.com/sharer/sharer.php?u=http://localhost:4000/framework/2024/10/09/Spring-05/"
      onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
      <span class="icon-facebook">
      </span>
    </a>
  </div>
</div>
-->
<br />




<aside class="related" role="complementary">
  <h2 class="hr">Related Posts</h2>

  <ul class="related-posts">
    
      
      
      
        
          
          
        
        
          


<li class="h4">
  <a href="/framework/2024/10/09/Spring-04/" data-flip="title">
    <span>Simple Library App - Entity</span>
  </a>
  <small><time datetime="2024-10-09T00:00:00+09:00">
    09 Oct 2024
  </time></small>
</li>

        
      
        
        
          


<li class="h4">
  <a href="/framework/2024/10/04/Spring-03/" data-flip="title">
    <span>http의 동작방식과 spring이 http를 지원해주는 방식</span>
  </a>
  <small><time datetime="2024-10-04T00:00:00+09:00">
    04 Oct 2024
  </time></small>
</li>

        
      
        
        
          


<li class="h4">
  <a href="/framework/2024/10/02/Spring-Data-jdbc-07/" data-flip="title">
    <span>Spring JDBC 07 - Transaction 추상화</span>
  </a>
  <small><time datetime="2024-10-02T00:00:00+09:00">
    02 Oct 2024
  </time></small>
</li>

        
      
    
  </ul>
</aside>
  <aside class="comments" role="complementary">
  <h2>Comments</h2>
  <hr/>

  <script src="https://utteranc.es/client.js"
          repo="taewoocode/taewoocode.github.io"
          issue-term="title"
          theme="github-light"
          crossorigin="anonymous"
          async>
  </script>
  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
</aside>


       <footer>
  <hr/>
  
    <p>© 2022. by taewoo</p>

  
  <p>
    <code>Powered by <a href="https://taewoocode.github.io/">taewoo</a></code>
  </p>
</footer>

    </main>
    <div class="right-side">
  <div class="add-first">
    <script
            async
            src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"
    ></script>
    <!-- 우측 광고 -->
    <ins
            class="adsbygoogle"
            style="display: block"
            data-ad-client="ca-pub-8247516864622650"
            data-ad-slot="9124111205"
            data-ad-format="auto"
            data-full-width-responsive="true"
    ></ins>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
  </div>
  <br />
  <br />
  <div class="add-second">
    <!-- 우측 광고2 -->
    <ins
            class="adsbygoogle"
            style="display: block"
            data-ad-client="ca-pub-8247516864622650"
            data-ad-slot="5156946039"
            data-ad-format="auto"
            data-full-width-responsive="true"
    ></ins>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
  </div>
</div>
  </div>
  <div id="_yDrawer">
  <div id="_sidebar" class="sidebar">
    <div class="sidebar-bg" style="background-color:#4f86aa;background-image:url(/assets/img/dp.jpeg)"></div>
    <header class="sidebar-sticky" role="banner">
      <br/>
      <div class="sidebar-about">
        <h1><a id="_title" href="/">일벌리는 개발자</a></h1>
        

      </div>

      <br/>
      <br/>
      <nav class="sidebar-nav heading" role="navigation">
        <span class="sr-only">Navigation:</span>
<ul>
  

  

  
  
  
  
  
    <li>
      <input type="checkbox" id="list-item-1"/>
      <div  class="list-wrapper">
      <a class="sidebar-nav-item" href="/category/life/">Life</a>
       <label class="folder" for="list-item-1">▾</label>
    </div>
     <ul class="list-body">
       
           
         
           
         
           
         
           
             <li>
               <a class="sidebar-nav-subitem" href="/tag/daily-books/">Books</a>
             </li>
           
         
           
             <li>
               <a class="sidebar-nav-subitem" href="/tag/daily-daily/">Daily</a>
             </li>
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
         
     </ul>
    </li>

  
  
    <li>
      <input type="checkbox" id="list-item-2"/>
      <div  class="list-wrapper">
      <a class="sidebar-nav-item" href="/category/computer-science/">Computer Science</a>
       <label class="folder" for="list-item-2">▾</label>
    </div>
     <ul class="list-body">
       
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
             <li>
               <a class="sidebar-nav-subitem" href="/tag/cs-algorithm/">Algorithm</a>
             </li>
           
         
           
         
           
         
           
         
           
         
           
         
           
             <li>
               <a class="sidebar-nav-subitem" href="/tag/cs-network/">Network</a>
             </li>
           
         
           
         
           
         
           
         
           
         
           
         
           
             <li>
               <a class="sidebar-nav-subitem" href="/tag/cs-db/">Database</a>
             </li>
           
         
           
         
           
         
           
         
           
         
     </ul>
    </li>

  
  
    <li>
      <input type="checkbox" id="list-item-3"/>
      <div  class="list-wrapper">
      <a class="sidebar-nav-item" href="/category/programming-language/">Programming Language</a>
       <label class="folder" for="list-item-3">▾</label>
    </div>
     <ul class="list-body">
       
           
             <li>
               <a class="sidebar-nav-subitem" href="/tag/programming-language-java/">Java</a>
             </li>
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
             <li>
               <a class="sidebar-nav-subitem" href="/tag/programming-language-kotlin/">Kotlin</a>
             </li>
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
         
     </ul>
    </li>

  
  
    <li>
      <input type="checkbox" id="list-item-4"/>
      <div  class="list-wrapper">
      <a class="sidebar-nav-item" href="/category/framework/">Framework</a>
       <label class="folder" for="list-item-4">▾</label>
    </div>
     <ul class="list-body">
       
           
         
           
             <li>
               <a class="sidebar-nav-subitem" href="/tag/framework-spring/">Spring</a>
             </li>
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
             <li>
               <a class="sidebar-nav-subitem" href="/tag/framework-spring-data-jpa/">Spring Data JPA</a>
             </li>
           
         
           
         
           
         
           
             <li>
               <a class="sidebar-nav-subitem" href="/tag/framework-spring-security/">Spring Security</a>
             </li>
           
         
           
         
           
             <li>
               <a class="sidebar-nav-subitem" href="/tag/framework-spring-mvc/">Spring MVC</a>
             </li>
           
         
           
         
           
         
           
         
           
             <li>
               <a class="sidebar-nav-subitem" href="/tag/framework-junit/">JUnit</a>
             </li>
           
         
           
         
           
         
     </ul>
    </li>

  
  
    <li>
      <input type="checkbox" id="list-item-5"/>
      <div  class="list-wrapper">
      <a class="sidebar-nav-item" href="/category/language/">Language</a>
       <label class="folder" for="list-item-5">▾</label>
    </div>
     <ul class="list-body">
       
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
             <li>
               <a class="sidebar-nav-subitem" href="/tag/language-english/">English</a>
             </li>
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
         
     </ul>
    </li>

  
  
    <li>
      <input type="checkbox" id="list-item-6"/>
      <div  class="list-wrapper">
      <a class="sidebar-nav-item" href="/category/development/">Development</a>
       <label class="folder" for="list-item-6">▾</label>
    </div>
     <ul class="list-body">
       
           
         
           
         
           
         
           
         
           
         
           
         
           
             <li>
               <a class="sidebar-nav-subitem" href="/tag/development-ddd/">DDD</a>
             </li>
           
         
           
         
           
         
           
         
           
             <li>
               <a class="sidebar-nav-subitem" href="/tag/development-tdd/">TDD</a>
             </li>
           
         
           
         
           
         
           
         
           
         
           
         
           
             <li>
               <a class="sidebar-nav-subitem" href="/tag/development-clean-code/">Clean Code</a>
             </li>
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
         
     </ul>
    </li>

  
  
    <li>
      <input type="checkbox" id="list-item-7"/>
      <div  class="list-wrapper">
      <a class="sidebar-nav-item" href="/category/devops/">Devops</a>
       <label class="folder" for="list-item-7">▾</label>
    </div>
     <ul class="list-body">
       
           
         
           
         
           
             <li>
               <a class="sidebar-nav-subitem" href="/tag/devops-aws/">aws</a>
             </li>
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
             <li>
               <a class="sidebar-nav-subitem" href="/tag/devops-ansible/">Ansible</a>
             </li>
           
         
           
         
           
         
           
             <li>
               <a class="sidebar-nav-subitem" href="/tag/devops-docker/">Docker</a>
             </li>
           
         
           
         
           
         
           
         
           
             <li>
               <a class="sidebar-nav-subitem" href="/tag/devops-es/">Elasticsearch</a>
             </li>
           
         
           
         
           
             <li>
               <a class="sidebar-nav-subitem" href="/tag/devops-k8s/">Kubernetes</a>
             </li>
           
         
           
         
           
             <li>
               <a class="sidebar-nav-subitem" href="/tag/devops-kafak/">Kafka</a>
             </li>
           
         
           
             <li>
               <a class="sidebar-nav-subitem" href="/tag/devops-terraform/">Terraform</a>
             </li>
           
         
     </ul>
    </li>

  
  
    <li>
      <input type="checkbox" id="list-item-8"/>
      <div  class="list-wrapper">
      <a class="sidebar-nav-item" href="/category/opensource/">Open Source</a>
       <label class="folder" for="list-item-8">▾</label>
    </div>
     <ul class="list-body">
       
           
         
           
         
           
         
           
         
           
         
           
             <li>
               <a class="sidebar-nav-subitem" href="/tag/opensource-opensource/">Open Source</a>
             </li>
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
         
     </ul>
    </li>

  
  
    <li>
      <input type="checkbox" id="list-item-9"/>
      <div  class="list-wrapper">
      <a class="sidebar-nav-item" href="/about/">About</a>
       
    </div>
     <ul class="list-body">
       
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
         
     </ul>
    </li>

  
</ul>

      </nav>
    <br/>
    <br/>
      <div class="sidebar-box">
        
      </div>
      <p>일을 벌여놔야 주워 담을 수 있습니다.</p>

      
      
        <div class="sidebar-social">
          <span class="sr-only">Social:</span>
<ul>
  
    









<li>
  <a href="https://github.com/taewoocode">
    <span class="icon-github" title="GitHub"></span>
    <span class="sr-only">GitHub</span>
  </a>
</li>

  
    









<li>
  <a href="https://www.linkedin.com/in/태우-박-15651828b">
    <span class="icon-linkedin2" title="LinkedIn"></span>
    <span class="sr-only">LinkedIn</span>
  </a>
</li>

  
    









<li>
  <a href="qkrxodn6035@gmail.com">
    <span class="icon-mail" title="Email"></span>
    <span class="sr-only">Email</span>
  </a>
</li>

  
</ul>

        </div>
      
    </header>
  </div>
</div>

</div>

<!-- =============== -->
<!-- SCRIPTS         -->
<!-- =============== -->

<script>
  window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
  ga('create', 'UA-92346434-1', 'auto');
  ga('send', 'pageview');
  loadJSDeferred('https://www.google-analytics.com/analytics.js');
</script>





<!--[if gt IE 8]><!---->
<script src="//ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js"></script>
<script>
  WebFont.load({
    
    google: {
      families: 'Lato'.split('|')
    },
    

    custom: {
      families: ['icomoon'],
      urls: ['/assets/icomoon/style.css']
    }
  });
</script>
<!--<![endif]-->


  <!--[if gt IE 9]><!---->
  
  <script>loadJSDeferred('/assets/js/hydejack.js?v=6.4.0');</script>

  
  <!--<![endif]-->


</body>

</html>
